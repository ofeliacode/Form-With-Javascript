<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="assets/css/style.css">
  <script src="https://kit.fontawesome.com/97c4dac509.js" crossorigin="anonymous"></script>

  <title>Form Animation</title>
</head>
<body>
    <form action="">
      <div class="field-name">
        <i class="fas fa-user"></i>
        <input type="text" placeholder="Username" required>
        <i class="fas fa-arrow-down"></i>
      </div>
      <div class="field-email inactive">
          <i class="fas fa-envelope"></i>
          <input type="email" placeholder="Email" required>
          <i class="fas fa-arrow-down"></i>
      </div>
      <div class="field-password inactive">
        <i class="fas fa-key"></i>
        <input type="password" placeholder="Password" required>
        <i class="fas fa-arrow-down"></i>
    </div>
    <div class="field-finish inactive">
      <i class="fas fa-heart"></i>
     <p>Thank you!</p>
     <i class="fas fa-heart"></i>
  </div>
    </form>

    <script>
      function animatedForm(){
          const arrows = document.querySelectorAll('.fa-arrow-down');
          arrows.forEach(function(arrow){
          arrow.addEventListener('click', function(){
            let input = arrow.previousElementSibling;
            let parent = arrow.parentElement;
            let nextForm = parent.nextElementSibling;

          //check for validation
            if(input.type === 'text' &&  validateUser(input)){
              nextSlide(parent, nextForm);
            }else if (input.type === 'email' &&  validateEmail(input)){
              nextSlide(parent, nextForm)
            }else if(input.type === 'password' &&  validateUser(input)){
              nextSlide(parent, nextForm)
            }
          })
        })
      }
    function validateUser(user){
        if(user.value.length <6 ){
          console.log('not enough')
          error('rgb(189,87, 87)');
        }else{
          error('rgb(87, 189, 130)');
          return true;
        }
    }

    function validateEmail(email){
      const validation = /^[a-zA-Z-.]+@[a-z]+\.[a-z]{2,3}$/;
      if(validation.test(email.value)){
        error('rgb(87, 189, 130)');
        return true;
      }else{
        console.log('not enough')
          error('rgb(189,87, 87)');
      }
    }

    function nextSlide(parent, nextForm){
      parent.classList.add('inactive');
      parent.classList.remove('active');
      nextForm.classList.add('active');
    }



    function error(color){
        document.body.style.backgroundColor = color;
    }
    


animatedForm();
    </script>
</body>
</html>